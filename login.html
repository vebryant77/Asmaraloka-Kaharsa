
<!DOCTYPE html>
<html class="no-js"> 
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Login - Asmaraloka Kaharsa</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Login - Asmaraloka Kaharsa" />
	<meta name="keywords" content="login, asmaraloka kaharsa, wedding organizer" />
	<meta name="author" content="Asmaraloka Kaharsa" />

  	<!-- Facebook and Twitter integration -->
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<link href='https://fonts.googleapis.com/css?family=Work+Sans:400,300,600,400italic,700' rel='stylesheet' type='text/css'>
	<link href="https://fonts.googleapis.com/css?family=Sacramento" rel="stylesheet">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">
	
	<!-- Header Responsive Styles -->
	<link rel="stylesheet" href="css/header-responsive.css">
	
	<!-- Custom Package Styles -->
	<link rel="stylesheet" href="css/custom-package.css">
	
	<!-- Testimonial Styles -->
	<link rel="stylesheet" href="css/testimonial.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="css/magnific-popup.css">

	<!-- Owl Carousel  -->
	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/owl.theme.default.min.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="css/style.css">

	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	</head>
	<body>
		
	<div class="fh5co-loader"></div>
	
	<div id="page">
	<nav class="fh5co-nav" role="navigation">
		<div class="container">
			<div class="row">
				<div class="col-xs-2">
					<div id="fh5co-logo"><a href="index.html">Asmaraloka Kaharsa<strong>.</strong></a></div>

				</div>
				<div class="col-xs-10 text-right menu-1">
					<ul>
						<li class="active"><a href="index.html">Home</a></li>
						<li><a href="about.html">About Us</a></li>
						<li class="has-dropdown">
							<a href="services.html">Services</a>
							<ul class="dropdown">
								<li><a href="services.html">Wedding Package</a></li>
								<li><a href="venue.html">Venue Package</a></li>
								<li><a href="#">Wedding Organizer</a></li>
							</ul>
						</li>
						<li class="has-dropdown">
							<a href="gallery.html">Gallery</a>
						</li>
						<li><a href="contact.html">Contact</a></li>
						<li id="nav-auth"><a href="login.html">Login</a></li>
					</ul>
				</div>
			</div>
		</div>
	</nav>

    <header id="fh5co-header" class="fh5co-cover" role="banner" style="background-image:url(images/img_bg_2.jpg);">
		<div class="overlay"></div>
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center">
					<div class="display-t">
						<div class="display-tc animate-box" data-animate-effect="fadeIn">
							<h1>Login</h1>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>

    <div class="container">
        <div class="login-container">
            <div class="login-header">
                <h2>Login</h2>
                <p>Masuk ke akun Asmaraloka Kaharsa Anda</p>
                
                <!-- Toggle User/Admin -->
                <div style="margin-top: 15px; text-align: center;">
                    <button type="button" class="btn btn-sm" id="userModeBtn" style="background: #d8a574; color: white;">User Login</button>
                    <button type="button" class="btn btn-sm" id="adminModeBtn" style="background: #999; color: white;">Admin Login</button>
                </div>
            </div>
            
            <!-- User Login Form -->
            <form id="userLoginForm" action="#" method="POST" data-redirect="indexlog.html" style="display: block;">
                <input type="hidden" name="login_type" value="user">
                <div class="form-group">
                    <input type="text" class="form-control" id="userUsername" placeholder="Username" required>
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" id="userPassword" placeholder="Password" required>
                </div>
                <button type="submit" class="btn btn-login">User Login</button>
                
                <div class="login-footer">
                    <a href="forgot-password.html">Lupa Password</a>
                    <a href="signup.html">Sign Up</a>
                </div>
            </form>

            <!-- Admin Login Form -->
            <form id="adminLoginForm" action="#" method="POST" data-redirect="admin/admin-model.html" style="display: none;">
                <input type="hidden" name="login_type" value="admin">
                <div class="form-group">
                    <input type="text" class="form-control" id="adminUsername" placeholder="Admin Username" required>
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" id="adminPassword" placeholder="Admin Password" required>
                </div>
                <button type="submit" class="btn btn-login">Admin Login</button>
                
                <div class="login-footer" style="text-align: center;">
                    <small>Admin access only</small>
                </div>
            </form>
        </div>
    </div>

    

	<!-- Footer -->
	<footer class="footer-modern">
		<div class="container">
			<div class="row" style="margin-bottom:30px;">
				<div class="col-md-3 col-sm-6">
					<h4>Nikah Happy Bebas Worry</h4>
					<p>Yuk rencanakan pernikahan impianmu bareng Asmaraloka Kaharsa, dengan pilihan vendor terbaik dan terpercaya menjadikan moment pernikahanmu happy dan bebas worry.</p>
					<div style="margin-top:18px;">
						<a href="#" class="btn btn-default"><i class="icon-instagram"></i></a>
						<a href="#" class="btn btn-default"><i class="icon-facebook"></i></a>
						<a href="#" class="btn btn-default"><i class="icon-youtube"></i></a>
						<a href="#" class="btn btn-default"><i class="icon-tiktok"></i></a>
					</div>
				</div>
				<div class="col-md-3 col-sm-6">
					<h4>Layanan Kami</h4>
					<ul>
						<li><a href="services.html">Wedding Package</a></li>
						<li><a href="venue.html">Venue Package</a></li>
						<li><a href="services.html">CustomPackage</a></li>
						<li><a href="wo.html">Wedding Organizer</a></li>
					</ul>
				</div>
				<div class="col-md-3 col-sm-6">
					<h4>Asmaraloka Kaharsa Bussines</h4>
					<ul>
						<li><a href="mailto:asmaralokakaharsa@gmail.com" target="_blank">Menjadi Partner</a></li>
						<li><a href="mailto:asmaralokakaharsa@gmail.com" target="_blank">Promosi</a></li>
					</ul>
				</div>
				<div class="col-md-3 col-sm-6">
					<h4>Gallery</h4>
					<div class="instagram-gallery">
						<img src="images/gallery-1.jpg">
						<img src="images/gallery-2.jpg">
						<img src="images/gallery-3.jpg">
						<img src="images/gallery-4.jpg">
						<img src="images/gallery-5.jpg">
						<img src="images/gallery-6.jpg">
					</div>
				</div>
	</footer>
	</div>


	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
	</div>
	
	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Carousel -->
	<script src="js/owl.carousel.min.js"></script>
	<!-- countTo -->
	<script src="js/jquery.countTo.js"></script>

	<!-- Stellar -->
	<script src="js/jquery.stellar.min.js"></script>
	<!-- Magnific Popup -->
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/magnific-popup-options.js"></script>

	<!-- // <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script> -->
	<script src="js/simplyCountdown.js"></script>
	<!-- Auth -->
	<script src="js/auth.js"></script>
	<!-- Main -->
	<script src="js/main.js"></script>

	<script>
    var d = new Date(new Date().getTime() + 200 * 120 * 120 * 2000);

    // default example
    simplyCountdown('.simply-countdown-one', {
        year: d.getFullYear(),
        month: d.getMonth() + 1,
        day: d.getDate()
    });

    //jQuery example
    $('#simply-countdown-losange').simplyCountdown({
        year: d.getFullYear(),
        month: d.getMonth() + 1,
        day: d.getDate(),
        enableUtc: false
    });

    // Toggle User/Admin Login
    document.getElementById('userModeBtn').addEventListener('click', function() {
      document.getElementById('userLoginForm').style.display = 'block';
      document.getElementById('adminLoginForm').style.display = 'none';
      this.style.background = '#d8a574';
      document.getElementById('adminModeBtn').style.background = '#999';
    });

    document.getElementById('adminModeBtn').addEventListener('click', function() {
      document.getElementById('userLoginForm').style.display = 'none';
      document.getElementById('adminLoginForm').style.display = 'block';
      this.style.background = '#d8a574';
      document.getElementById('userModeBtn').style.background = '#999';
    });

    // User Login Handler
    document.getElementById('userLoginForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const username = document.getElementById('userUsername').value.trim();
      const password = document.getElementById('userPassword').value;

			try {
				const response = await fetch('api/login.php', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({ username, password }),
					credentials: 'include'
				});

				const contentType = response.headers.get('content-type') || '';
				if (!contentType.includes('application/json')) {
					// If server returned HTML (likely a PHP warning/error), show raw text for debugging
					const txt = await response.text();
					alert('Server response (not JSON):\n' + txt);
					return;
				}

				const data = await response.json();

				if (response.ok && data.success) {
					alert('Login berhasil! Selamat datang, ' + data.user.nama_depan);
					window.location.href = 'indexlog.html';
				} else {
					alert(data.error || 'Login gagal');
				}
			} catch (error) {
				alert('Error: ' + error.message);
			}
    });

    // Admin Login Handler
    document.getElementById('adminLoginForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const username = document.getElementById('adminUsername').value.trim();
      const password = document.getElementById('adminPassword').value;

			try {
				const response = await fetch('api/admin-login.php', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({ username, password }),
					credentials: 'include'
				});

				const contentType = response.headers.get('content-type') || '';
				if (!contentType.includes('application/json')) {
					const txt = await response.text();
					alert('Server response (not JSON):\n' + txt);
					return;
				}

				const data = await response.json();

				if (response.ok && data.success) {
					alert('Admin login berhasil! Selamat datang, ' + username);
					window.location.href = 'admin/dashboard.html';
				} else {
					alert(data.error || 'Admin login gagal');
				}
			} catch (error) {
				alert('Error: ' + error.message);
			}
    });
  </script>

	</body>
</html>

